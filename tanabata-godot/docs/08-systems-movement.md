# MovementSystem (система движения)

## Назначение

Передвигает врагов по пути от точки входа к выходу через чекпоинты.

## Когда работает

Только в фазе WAVE.

## Как движется враг

У каждого врага есть путь — массив гексов (path.hexes, path.current_index). Текущая цель — гекс по индексу. Позиция цели в пикселях — target_hex.to_pixel(). Направление — от текущей позиции к цели. Эффективная скорость умножается на slow_factor из slow_effects и jade_poisons (замедление по стакам яда Jade).

## Достижение точки

Когда враг достаточно близко к целевой точке, current_index увеличивается. Если индекс достиг конца пути — враг считается дошедшим: наносится урон игроку (_damage_player), сущность удаляется.

## Обновление позиции

Позиция обновляется по направлению к текущей цели: pos + direction * (effective_speed * delta). Компонент velocity не используется для движения (движение по пути).
