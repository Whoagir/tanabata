# План разработки Tanabata (Godot)

Общий план без детализации. Уточнения — на этапе реализации.

**Текущая цель:** MVP с основными механиками, одна карта. Несколько локаций и выбор уровня — позже.

---

## Техническая подготовка (по мере необходимости)

- **Константы в Config:** везде использовать константы из Config (например `TOWERS_TO_KEEP`), убрать захардкоженные числа из UI и систем.
- **Рефакторинг добавления башен:** фабрика/логика по `def_id` и данным из JSON, чтобы новые типы башен (кварц, минус-армор, второй уровень крафта и т.д.) добавлялись без размазанных `if type == "MINER"` по коду. Можно делать перед или параллельно блоку «Срочно и важно».

---

## Срочно и важно

1. **Крафт с касания** — в фазе постройки (BUILD) можно сразу слить башни, если они стоят с касанием и подходят под рецепт (без обязательного перехода в SELECTION).
2. **Уровень игрока и вышек с смыслом** — сейчас уровни есть, но ни на что не влияют; сделать влияние на геймплей.
3. **Летающие враги** — механика полёта (обход стен / отдельный путь / приоритет целей).
4. **Вышка типа кварц** — новая башня (механика уточняется при реализации).
5. **Способности врагов** — например дизарм (отключение башен и т.п.).
6. **Слияние вышек в фазе строительства** — возможность объединять башни в BUILD (аналогично крафту с касания, но отдельная механика).
7. **Вышки на минус армор** — башни, снижающие броню врагов.

---

## Срочно

8. **Silver Knight** — вышка второго уровня крафта (сейчас только первый уровень).
9. **Wyvern Malachite** — вышка второго уровня крафта.
10. **Ruby** — вышка второго уровня крафта.

---

## Важно

11. **Сплит отравление** — распространение яда на несколько целей.
12. **Сплит замедление** — распространение замедления на несколько целей.
13. **Рандом и сид** — показатель удачи, воспроизводимость (сид для генерации/дропа).
14. **Атака линия** — тип атаки по линии (линейный урон).
15. **Dark Emerald** — вышка второго или третьего уровня крафта.
16. **Аура на доп урон** — кроме текущей ауры на скорость атаки, аура на дополнительный урон.
17. **Проработать 30 уровней игры** — контент и баланс на 30 уровней.
18. **Инвиз** — невидимость (врагов или башен — уточнить при реализации).

---

## Не срочно и не важно

19. **Система ветра** — влияние ветра на карту/юнитов.
20. **Природные гексы (биомы)** — типы гексов, биомы.
21. **Инком + конденсатор** — механика дохода и накопления (уточнить при реализации).
22. **Маяк с тенью** — вариант маяка с механикой тени.
23. **Баф по сети** — усиления, передаваемые по энергосети.

---

## Не в приоритете сейчас

- Победа/поражение (экран Game Over, победа) — позже.
- Несколько локаций и выбор уровня — после MVP.
- Детальная документация порядка инициализации (DataRepository / GameManager) — по необходимости.

---

*Документация по текущему состоянию: PROJECT_STATUS.md, IMPLEMENTED.md. Риски расширения: EXTENSION_RISKS.md.*
